<?php

    function is_pjax(){ 
      return array_key_exists('HTTP_X_PJAX', $_SERVER) && $_SERVER['HTTP_X_PJAX']; 
    }
    
    if( is_pjax() ){
        
    }
    else{
        header("location:../");
        exit();
    }

?>

<br><br>
<div class="mdui-card" id="login_reg">
    <div class="mdui-card-content mdui-typo">
        
        <center><h2>欢迎使用，请登录</h2></center><span style="float:right">没有账号？<a href="javascript:void(0)" onclick="reg_page()">注册一个</a></span>
        <br>
        <div class="mdui-textfield mdui-textfield-floating-label">
            <label class="mdui-textfield-label">用户名</label>
            <input type="text" id="username_login" class="mdui-textfield-input" />
        </div>
        <div class="mdui-textfield mdui-textfield-floating-label">
            <label class="mdui-textfield-label">密码</label>
            <input type="password" id="password_login" class="mdui-textfield-input" />
        </div>
        <br>
        <button class="mdui-fab mdui-ripple" style="float:right" onclick="go_login()">
            <svg t="1583375725994" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2303" width="32" height="32"><path d="M514.5 894.3c-50 0-98.4-9.8-144.1-29.1-44.1-18.6-83.7-45.3-117.7-79.3s-60.7-73.6-79.3-117.7c-19.3-45.6-29.1-94.1-29.1-144.1s9.8-98.4 29.1-144.1c18.6-44.1 45.3-83.7 79.3-117.7s73.6-60.7 117.7-79.3c45.6-19.3 94.1-29.1 144.1-29.1s98.4 9.8 144.1 29.1c44.1 18.6 83.7 45.3 117.7 79.3S837 335.9 855.6 380c19.3 45.6 29.1 94.1 29.1 144.1s-9.8 98.4-29.1 144.1c-18.6 44.1-45.3 83.7-79.3 117.7s-73.6 60.7-117.7 79.3c-45.6 19.3-94.1 29.1-144.1 29.1z m0-696.5c-179.9 0-326.3 146.4-326.3 326.3s146.4 326.3 326.3 326.3S840.8 704 840.8 524.1c0.1-180-146.3-326.3-326.3-326.3z" p-id="2304"></path><path d="M512.3 960.9c-60.5 0-119.1-11.8-174.4-35.2-53.3-22.6-101.2-54.9-142.4-96-41.1-41.1-73.4-89-96-142.4-23.4-55.2-35.2-113.9-35.2-174.4s11.8-119.1 35.2-174.4c22.6-53.3 54.9-101.2 96-142.4 41.1-41.1 89-73.4 142.4-96C393.2 76.9 451.8 65 512.3 65s119.1 11.8 174.4 35.2c53.3 22.6 101.2 54.9 142.4 96 41.1 41.1 73.4 89 96 142.4 23.4 55.2 35.2 113.9 35.2 174.4s-11.8 119.1-35.2 174.4c-22.6 53.3-54.9 101.2-96 142.4-41.1 41.1-89 73.4-142.4 96-55.3 23.2-114 35.1-174.4 35.1z m0-852.1c-222.8 0-404.1 181.3-404.1 404.1S289.5 917 512.3 917s404.1-181.3 404.1-404.1-181.3-404.1-404.1-404.1z" p-id="2305"></path><path d="M259.5 430.4v-9.3c0-1.8 1.4-3.2 3.2-3.2h84.9c1.8 0 3.2 1.4 3.2 3.2v11.8c0 0.6-0.2 1.2-0.5 1.7-20.3 34.3-51.4 63.2-93.2 86.9-1.5 0.9-3.5 0.3-4.4-1.2-2-3.4-4.1-6.9-6.3-10.5-1-1.6-0.4-3.7 1.2-4.5 13.2-6.9 24.3-13.7 33.2-20.2 1.6-1.2 1.8-3.4 0.4-4.8-8.1-8.3-16.4-16.5-24.8-24.6-1.3-1.2-1.3-3.3-0.1-4.6l6.4-6.4c1.2-1.2 3.2-1.3 4.4-0.1 9.8 8.9 19 17.5 27.4 25.6 1.2 1.2 3.1 1.2 4.4 0.1 10.4-9.4 19.5-20 27.3-31.8 1.4-2.1-0.1-5-2.7-5h-61c-1.5 0.1-3-1.3-3-3.1z m-6.9 177.1h66c2.9 0 4.3-3.6 2.2-5.5-4.3-4.1-9.6-8.9-15.9-14.6-1.4-1.2-1.4-3.4-0.1-4.7l6.6-6.6c1.2-1.2 3-1.3 4.3-0.2 7.8 6.5 15.6 13.3 23.5 20.5 1.4 1.3 1.4 3.5 0 4.7l-0.9 0.8c-2.1 2-0.7 5.6 2.2 5.6H380c2.9 0 4.3-3.5 2.3-5.5-1.3-1.3-1.2-3.4 0.1-4.6 8-7.4 15.2-14.6 21.8-21.8 1.2-1.3 3.1-1.4 4.4-0.3l9 7.3c1.5 1.2 1.6 3.4 0.2 4.8-4.8 4.7-9.9 9.5-15.4 14.5-2.2 2-0.8 5.6 2.2 5.6h67.3c1.8 0 3.2 1.4 3.2 3.2v9.3c0 1.8-1.4 3.2-3.2 3.2H252.6c-1.8 0-3.2-1.4-3.2-3.2v-9.3c0-1.8 1.4-3.2 3.2-3.2z m35.7-98h145.6c1.8 0 3.2 1.4 3.2 3.2v64.6c0 1.8-1.4 3.2-3.2 3.2h-11.1c-1.8 0-3.2-1.4-3.2-3.2v-1.9c0-1.8-1.4-3.2-3.2-3.2H305.9c-1.8 0-3.2 1.4-3.2 3.2v1.9c0 1.8-1.4 3.2-3.2 3.2h-11.1c-1.8 0-3.2-1.4-3.2-3.2v-64.6c-0.1-1.8 1.4-3.2 3.1-3.2z m128.1 15.2H305.9c-1.8 0-3.2 1.4-3.2 3.2v25.9c0 1.8 1.4 3.2 3.2 3.2h110.5c1.8 0 3.2-1.4 3.2-3.2v-25.9c0-1.8-1.5-3.2-3.2-3.2z m-91.9-50.5h71.8c1.8 0 3.2 1.4 3.2 3.2v8.8c0 1.8-1.4 3.2-3.2 3.2h-71.8c-1.8 0-3.2-1.4-3.2-3.2v-8.8c0-1.8 1.5-3.2 3.2-3.2z m56.3-65.4c2.8 7.2 5.8 14 9.1 20.3 0.8 1.6 2.8 2.2 4.4 1.4 14.6-8.1 27.6-15.9 38.9-23.5 1.4-0.9 3.3-0.6 4.3 0.7l7.2 9.3c1.2 1.5 0.8 3.7-0.9 4.7-12.6 7.5-26.1 15-40.5 22.7-1.7 0.9-2.2 3.1-1.1 4.7 3.1 4.3 6.3 8.3 9.8 12 1 1.1 2.6 1.3 3.9 0.6 14.4-8 27.8-16.1 40.3-24.4 1.4-0.9 3.3-0.6 4.3 0.7l7.5 9.6c1.2 1.5 0.8 3.7-0.9 4.7-10.8 6.5-22.7 13.3-35.7 20.4-2.1 1.1-2.3 4-0.3 5.4 12.6 9 26.9 15.3 42.9 19 2.2 0.5 3.2 3.1 1.9 4.9-2.9 4.2-5.8 8.4-8.5 12.6-0.8 1.3-2.4 1.8-3.8 1.3-46.7-16.9-79.7-50.5-99.1-100.9-0.6-1.6 0.2-3.5 1.8-4.1l10.2-4.1c1.8-0.6 3.7 0.3 4.3 2zM556.4 589.4c28.2-8.8 58.6-19.2 91.1-31.1 1.9-0.7 3.9 0.5 4.3 2.4 0.8 4 1.5 7.7 2.2 11 0.3 1.6-0.6 3.1-2.1 3.7-28.8 10-58.4 20.5-88.8 31.5-1.6 0.6-3.4-0.2-4.1-1.8l-4.7-11.5c-0.6-1.7 0.3-3.7 2.1-4.2z m196.5-68l9 10.2c1.3 1.5 1 3.7-0.6 4.8-11.5 7.5-25.4 16.2-41.5 26-2 1.2-2.1 4-0.2 5.3 16.2 11.7 35.9 20.5 58.9 26.2 2.2 0.5 3.1 3.1 1.8 4.9-3.1 4.5-6 8.8-8.6 13-0.8 1.2-2.3 1.8-3.7 1.4-36.8-11.6-64.8-30.3-84.1-56-1.8-2.5-5.8-1.1-5.8 1.9V599c0 18.6-9.5 27.9-28.6 27.9-8.4 0-18.3-0.1-29.6-0.4-1.5 0-2.8-1.2-3.1-2.7-0.6-3.9-1.4-8.3-2.1-13.1-0.3-2.1 1.4-3.9 3.5-3.7 9.4 1 17.9 1.5 25.6 1.6 10.9 0 16.4-4.9 16.4-14.8v-79.4c0-1.8-1.4-3.2-3.2-3.2h-97.4c-1.8 0-3.2-1.4-3.2-3.2v-9c0-1.8 1.4-3.2 3.2-3.2h165.6c1.8 0 3.2-1.4 3.2-3.2v-18.3c0-1.8-1.4-3.2-3.2-3.2H588.6c-1.8 0-3.2-1.4-3.2-3.2v-8.3c0-1.8 1.4-3.2 3.2-3.2h136.6c1.8 0 3.2-1.4 3.2-3.2v-18c0-1.8-1.4-3.2-3.2-3.2h-141c-1.8 0-3.2-1.4-3.2-3.2v-9c0-1.8 1.4-3.2 3.2-3.2h158.2c1.8 0 3.2 1.4 3.2 3.2v72.9c0 1.8 1.4 3.2 3.2 3.2h29.3c1.8 0 3.2 1.4 3.2 3.2v9c0 1.8-1.4 3.2-3.2 3.2h-96.9c-1.8 0-3.2 1.4-3.2 3.2v1.4c0 0.5 0.1 0.9 0.3 1.4 5.9 12.7 13.3 24 22.3 33.8 1.1 1.1 2.8 1.3 4.1 0.5 16-10.4 30.6-20.6 43.8-30.6 1.4-1.1 3.3-0.9 4.4 0.4zM587.6 519c13.1 8 26.3 16.5 39.8 25.7 1.5 1 1.9 3.1 0.8 4.6l-7.4 10c-1.1 1.4-3.1 1.7-4.5 0.6-12.3-9.3-25.2-18.3-38.7-27-1.6-1-1.9-3.2-0.8-4.7l6.7-8.4c0.9-1.3 2.7-1.6 4.1-0.8z" p-id="2306"></path></svg>
        </button>
        <br>
        <br>
    </div>
</div>
<script>
    function go_login(){
        var username_login = $("#username_login").val()
        var password_login = $("#password_login").val()
        $.pjax({
            url : "/apps/login_auth.php",
            container : "#pjax-change",
            type : "post",
            data : {
                "username_login" : username_login,
                "password_login" : password_login
            }
        })
    }
    function reg_page(){
        $.pjax({
            "url" : "/pages/reg_page.php",
            container : "#login_reg"
        })
    }
</script>
